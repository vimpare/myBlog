(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{567:function(t,e,n){"use strict";n.r(e);var a=n(62),v=Object(a.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h3",{attrs:{id:"管理输出"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#管理输出"}},[t._v("#")]),t._v(" 管理输出")]),t._v(" "),n("p",[n("strong",[t._v("webpack.config.js")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("\n\n  const path = require('path');\n\n  module.exports = {\n-   entry: './src/index.js',\n+   entry: {\n+     app: './src/index.js',\n+     print: './src/print.js'\n+   },\n    output: {\n-     filename: 'bundle.js',\n+     filename: '[name].bundle.js',\n      path: path.resolve(__dirname, 'dist')\n    }\n  };\n")])])]),n("p",[n("strong",[t._v("dist/index.html")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('  <!doctype html>\n  <html>\n    <head>\n-     <title>Asset Management</title>\n+     <title>Output Management</title>\n+     <script src="./print.bundle.js"><\/script>\n    </head>\n    <body>\n-     <script src="./bundle.js"><\/script>\n+     <script src="./app.bundle.js"><\/script>\n    </body>\n  </html>\n')])])]),n("p",[n("strong",[t._v("HtmlWebpackPlugin")])]),t._v(" "),n("p",[n("code",[t._v("npm install --save-dev html-webpack-plugin")])]),t._v(" "),n("p",[n("strong",[t._v("webpack.config.js")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("  const path = require('path');\n+ const HtmlWebpackPlugin = require('html-webpack-plugin');\n\n  module.exports = {\n    entry: {\n      app: './src/index.js',\n      print: './src/print.js'\n    },\n+   plugins: [\n+     new HtmlWebpackPlugin({\n+       title: 'Output Management'\n+     })\n+   ],\n    output: {\n      filename: '[name].bundle.js',\n      path: path.resolve(__dirname, 'dist')\n    }\n  };\n")])])]),n("p",[t._v("HtmlWebpackPlugin 创建了一个全新的文件，所有的 bundle 会自动添加到 html 中。")]),t._v(" "),n("p",[n("strong",[t._v("清理 /dist 文件夹")])]),t._v(" "),n("p",[t._v("在每次构建前清理 /dist 文件夹，是比较推荐的做法，因此只会生成用到的文件。让我们完成这个需求。")]),t._v(" "),n("p",[n("code",[t._v("clean-webpack-plugin")]),t._v(" 是一个比较普及的管理插件")]),t._v(" "),n("p",[n("code",[t._v("npm install clean-webpack-plugin --save-dev")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("webpack.config.js\n\n  const path = require('path');\n  const HtmlWebpackPlugin = require('html-webpack-plugin');\n+ const CleanWebpackPlugin = require('clean-webpack-plugin');\n\n  module.exports = {\n    entry: {\n      app: './src/index.js',\n      print: './src/print.js'\n    },\n    plugins: [\n+     new CleanWebpackPlugin(),\n      new HtmlWebpackPlugin({\n        title: 'Output Management'\n      })\n    ],\n    output: {\n      filename: '[name].bundle.js',\n      path: path.resolve(__dirname, 'dist')\n    }\n  };\n")])])]),n("h3",{attrs:{id:"output-chunkfilename"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#output-chunkfilename"}},[t._v("#")]),t._v(" output.chunkFilename")]),t._v(" "),n("p",[t._v("chunkname就是未被列在entry中，但有些场景需要被打包出来的文件命名配置。比如按需加载（异步）模块的时候，这样的文件是没有被列在entry中的使用CommonJS的方式异步加载模块")]),t._v(" "),n("h3",{attrs:{id:"source-maps"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#source-maps"}},[t._v("#")]),t._v(" source maps")]),t._v(" "),n("p",[t._v("开发工具(Devtool)")]),t._v(" "),n("p",[t._v("devtool\nstring false")]),t._v(" "),n("p",[t._v("选择一种 source map 来增强调试过程。注意，以下选项能够可能会很明显地影响构建(build)和重构建(rebuild)的速度。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("devtool")]),t._v(" "),n("th",[t._v("构建")]),t._v(" "),n("th",[t._v("重构建")]),t._v(" "),n("th",[t._v("生产环境")]),t._v(" "),n("th",[t._v("特性")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("eval")]),t._v(" "),n("td",[t._v("+++")]),t._v(" "),n("td",[t._v("+++")]),t._v(" "),n("td",[t._v("no")]),t._v(" "),n("td",[t._v("生成后的代码")])]),t._v(" "),n("tr",[n("td",[t._v("cheap-eval-source-map")]),t._v(" "),n("td",[t._v("+")]),t._v(" "),n("td",[t._v("++")]),t._v(" "),n("td",[t._v("no")]),t._v(" "),n("td",[t._v("转换过的代码（仅限行）")])]),t._v(" "),n("tr",[n("td",[t._v("cheap-source-map")]),t._v(" "),n("td",[t._v("+")]),t._v(" "),n("td",[t._v("o")]),t._v(" "),n("td",[t._v("yes")]),t._v(" "),n("td",[t._v("转换过的代码（仅限行）")])]),t._v(" "),n("tr",[n("td",[t._v("cheap-module-eval-source-map")]),t._v(" "),n("td",[t._v("o")]),t._v(" "),n("td",[t._v("++")]),t._v(" "),n("td",[t._v("no")]),t._v(" "),n("td",[t._v("原始源码（仅限行）")])]),t._v(" "),n("tr",[n("td",[t._v("cheap-module-source-map")]),t._v(" "),n("td",[t._v("o")]),t._v(" "),n("td",[t._v("-")]),t._v(" "),n("td",[t._v("yes")]),t._v(" "),n("td",[t._v("原始源码（仅限行）")])]),t._v(" "),n("tr",[n("td",[t._v("eval-source-map")]),t._v(" "),n("td",[t._v("--")]),t._v(" "),n("td",[t._v("+")]),t._v(" "),n("td",[t._v("no")]),t._v(" "),n("td",[t._v("原始源码")])]),t._v(" "),n("tr",[n("td",[t._v("source-map")]),t._v(" "),n("td",[t._v("--")]),t._v(" "),n("td",[t._v("--")]),t._v(" "),n("td",[t._v("yes")]),t._v(" "),n("td",[t._v("原始源码")])]),t._v(" "),n("tr",[n("td",[t._v("nosources-source-map")]),t._v(" "),n("td",[t._v("--")]),t._v(" "),n("td",[t._v("--")]),t._v(" "),n("td",[t._v("yes")]),t._v(" "),n("td",[t._v("无源码内容")])])])]),t._v(" "),n("p",[t._v("其中一些值适用于开发环境，一些适用于生产环境。对于开发环境，通常希望更快速的 Source Map，需要添加到 bundle 中以增加体积为代价，但是对于生产环境，则希望更精准的 Source Map，需要从 bundle 中分离并独立存在")])])}),[],!1,null,null,null);e.default=v.exports}}]);