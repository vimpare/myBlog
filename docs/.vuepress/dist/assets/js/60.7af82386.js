(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{563:function(e,a,s){"use strict";s.r(a);var t=s(62),n=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack"}},[e._v("#")]),e._v(" webpack")]),e._v(" "),s("p",[e._v("webpack 是一个现代 JavaScript 应用程序的静态模块打包器。")]),e._v(" "),s("h3",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[e._v("#")]),e._v(" 安装")]),e._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[e._v("npm install "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("--")]),e._v("save"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("dev webpack\nnpm install "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("--")]),e._v("save"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("dev webpack@"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("version"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),s("p",[e._v("如果你使用 webpack 4+ 版本，你还需要安装 CLI。")]),e._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[e._v("npm install "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("--")]),e._v("save"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("dev webpack"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("cli\n")])])]),s("p",[e._v("通常，webpack 通过运行一个或多个 "),s("code",[e._v("npm scripts")]),e._v("，会在本地 "),s("code",[e._v("node_modules")]),e._v(" 目录中查找安装的 webpack：")]),e._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[e._v("\n"),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"start"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"webpack --config webpack.config.js"')]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),s("h3",{attrs:{id:"起步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#起步"}},[e._v("#")]),e._v(" 起步")]),e._v(" "),s("p",[e._v("首先我们创建一个目录，初始化 npm，然后 在本地安装 webpack，接着安装 "),s("code",[e._v("webpack-cli")]),e._v("（此工具用于在命令行中运行 webpack）：")]),e._v(" "),s("p",[s("code",[e._v("mkdir webpack-demo")]),e._v(" "),s("code",[e._v("cd webpack-test")])]),e._v(" "),s("p",[s("code",[e._v("npm init -y")])]),e._v(" "),s("blockquote",[s("p",[s("code",[e._v("npm init -y")]),e._v("   就是yes的意思，在"),s("code",[e._v("init")]),e._v("的时候省去了敲回车的步骤，生成的默认的"),s("code",[e._v("package.json")])])]),e._v(" "),s("p",[e._v("创建以下目录结构、文件和内容：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("project\n\n  webpack-demo\n  |- package.json\n+ |- index.html\n+ |- /src\n+   |- index.js\n")])])]),s("p",[s("code",[e._v("package.json")]),e._v(" 文件，以便确保我们安装包是私有的(private)，并且移除 main 入口。这可以防止意外发布你的代码")]),e._v(" "),s("p",[s("code",[e._v("npm install --save lodash")])]),e._v(" "),s("p",[s("code",[e._v("npx webpack")])]),e._v(" "),s("p",[e._v("最终")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("webpack-demo\n|- package.json \n|- webpack.config.js\n|- /dist\n  |- bundle.js\n  |- index.html\n|- /src\n  |- index.js\n|- /node_modules\n")])])]),s("h3",{attrs:{id:"管理资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#管理资源"}},[e._v("#")]),e._v(" 管理资源")]),e._v(" "),s("p",[s("strong",[e._v("加载 CSS")])]),e._v(" "),s("p",[e._v("为了从 JavaScript 模块中 import 一个 CSS 文件，你需要在 module 配置中 安装并添加 "),s("code",[e._v("style-loader")]),e._v(" 和 "),s("code",[e._v("css-loader")]),e._v("：")]),e._v(" "),s("p",[s("code",[e._v("npm install --save-dev style-loader css-loader")])]),e._v(" "),s("p",[s("strong",[e._v("webpack.config.js")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("  const path = require('path');\n\n  module.exports = {\n    entry: './src/index.js',\n    output: {\n      filename: 'bundle.js',\n      path: path.resolve(__dirname, 'dist')\n    },\n+   module: {\n+     rules: [\n+       {\n+         test: /\\.css$/,\n+         use: [\n+           'style-loader',\n+           'css-loader'\n+         ]\n+       }\n+     ]\n+   }\n  };\n")])])]),s("blockquote",[s("p",[e._v("webpack 根据正则表达式，来确定应该查找哪些文件，并将其提供给指定的 loader。在这种情况下，以 .css 结尾的全部文件，都将被提供给 "),s("code",[e._v("style-loader")]),e._v(" 和 "),s("code",[e._v("css-loader")]),e._v("。")])]),e._v(" "),s("p",[s("strong",[e._v("加载图片")])]),e._v(" "),s("p",[e._v("使用 file-loader，我们可以轻松地将这些内容混合到 CSS 中：")]),e._v(" "),s("p",[s("code",[e._v("npm install --save-dev file-loader")])]),e._v(" "),s("p",[s("strong",[e._v("webpack.config.js")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("  const path = require('path');\n\n  module.exports = {\n    entry: './src/index.js',\n    output: {\n      filename: 'bundle.js',\n      path: path.resolve(__dirname, 'dist')\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.css$/,\n          use: [\n            'style-loader',\n            'css-loader'\n          ]\n        },\n+       {\n+         test: /\\.(png|svg|jpg|gif)$/,\n+         use: [\n+           'file-loader'\n+         ]\n+       }\n      ]\n    }\n  };\n")])])]),s("p",[s("strong",[e._v("加载字体")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("+       {\n+         test: /\\.(woff|woff2|eot|ttf|otf)$/,\n+         use: [\n+           'file-loader'\n+         ]\n+       }\n\n")])])]),s("p",[s("strong",[e._v("加载数据")])]),e._v(" "),s("p",[e._v("JSON 支持实际上是内置的，也就是说 import Data from './data.json' 默认将正常运行\n要导入 CSV、TSV 和 XML，你可以使用 csv-loader 和 xml-loader\n"),s("code",[e._v("npm install --save-dev csv-loader xml-loader")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("+       {\n+         test: /\\.(csv|tsv)$/,\n+         use: [\n+           'csv-loader'\n+         ]\n+       },\n+       {\n+         test: /\\.xml$/,\n+         use: [\n+           'xml-loader'\n+         ]\n+       }\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);