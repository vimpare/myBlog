(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{510:function(e,n,l){"use strict";l.r(n);var r=l(62),o=Object(r.a)({},(function(){var e=this,n=e.$createElement,l=e._self._c||n;return l("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[l("p",[e._v("组合模式")]),e._v(" "),l("p",[l("strong",[e._v("组合模式")]),e._v("就是用小的子对象来构建更大的对象，而这些小的子对象本身也许是由更小的“孙对象”构成的。")]),e._v(" "),l("p",[l("strong",[e._v("宏命令")]),e._v("：宏命令对象包含了一组具体的子命令对象，不管是宏命令对象，还是子命令对象，都有一个execute方法负责执行命令。")]),e._v(" "),l("p",[l("strong",[e._v("组合模式将对象组合成树形结构，以表示“部分-整体”的层次结构。")])]),e._v(" "),l("p",[e._v("组合模式的另一个好处是通过对象的多态性表现，使得用户对单个对象和组合对象的使用具有一致性")]),e._v(" "),l("p",[e._v("如果子节点是叶对象，叶对象自身会处理这个请求，而如果子节点还是组合对象，请求会继续往下传递。叶对象下面不会再有其他子节点，一个叶对象就是树的这条枝叶的尽头，组合对象下面可能还会有子节点")]),e._v(" "),l("p",[e._v("组合模式的例子——"),l("strong",[e._v("扫描文件夹")])]),e._v(" "),l("div",{staticClass:"language- extra-class"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[e._v("/******************************* Folder ******************************/\nvar Folder = function (name) {\n    this.name = name;\n    this.files = [];\n};\nFolder.prototype.add = function (file) {\n    this.files.push(file);\n};\nFolder.prototype.scan = function () {\n    console.log('开始扫描文件夹: ' + this.name);\n    for (var i = 0, file, files = this.files; file = files[i++];) {\n        file.scan();\n    }\n}; /******************************* File ******************************/\nvar File = function (name) {\n    this.name = name;\n};\nFile.prototype.add = function () {\n    throw new Error('文件下面不能再添加文件');\n};\nFile.prototype.scan = function () {\n    console.log('开始扫描文件: ' + this.name);\n};\nvar folder = new Folder('学习资料');\nvar folder1 = new Folder('JavaScript');\nvar folder2 = new Folder('jQuery');\nvar file1 = new File('JavaScript设计模式与开发实践');\nvar file2 = new File('精通jQuery');\nvar file3 = new File('重构与模式') folder1.add(file1);\nfolder2.add(file2);\nfolder.add(folder1);\nfolder.add(folder2);\nfolder.add(file3);\nvar folder3 = new Folder('Nodejs');\nvar file4 = new File('深入浅出Node.js');\nfolder3.add(file4);\nvar file5 = new File('JavaScript语言精髓与编程实践');\nfolder.add(folder3);\nfolder.add(file5);\n")])])]),l("p",[e._v("在使用组合模式的时候，还有以下"),l("strong",[e._v("几个值得我们注意的地方")]),e._v("。")]),e._v(" "),l("ul",[l("li",[e._v("组合模式不是父子关系")]),e._v(" "),l("li",[e._v("对叶对象操作的一致性")]),e._v(" "),l("li",[e._v("双向映射关系")]),e._v(" "),l("li",[e._v("用职责链模式提高组合模式性能")])])])}),[],!1,null,null,null);n.default=o.exports}}]);